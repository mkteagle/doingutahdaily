{
  "permissions": {
    "allow": [
      "Bash(npm install react@latest react-dom@latest @types/react@latest @types/react-dom@latest)",
      "Bash(npm install:*)",
      "Bash(npm run build:*)",
      "Skill(frontend-design)",
      "mcp__claude_ai_Vercel__list_teams",
      "mcp__claude_ai_Vercel__list_projects",
      "mcp__claude_ai_Vercel__list_deployments",
      "mcp__claude_ai_Vercel__get_deployment_build_logs",
      "mcp__claude_ai_Vercel__get_project",
      "Bash(pnpm:*)",
      "Bash(npm info:*)",
      "Bash(corepack prepare:*)",
      "Bash(tail:*)",
      "Bash(git add:*)",
      "Bash(git push:*)",
      "Bash(git add apps/web/vercel.json apps/admin/vercel.json && git commit -m \"$\\(cat <<'EOF'\nfix: bypass broken corepack on Vercel, install pnpm directly\n\ncorepack enable on Vercel's Node 20 ignores the packageManager field\nand uses a bundled pnpm with the ERR_INVALID_THIS URLSearchParams bug.\nInstall pnpm@10.30.2 directly via npm instead.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\" && git push origin main 2>&1)",
      "Bash(grep:*)",
      "Bash(find:*)",
      "Bash(grep import\\\\|require:*)",
      "Bash(head:*)",
      "Bash(git add apps/web/package.json pnpm-lock.yaml && git commit -m \"$\\(cat <<'EOF'\nchore: remove unused dependencies from web app\n\nRemove: plaiceholder, date-fns-tz, @shadcn/ui, shadcn-ui,\n@mkteagle/mdx-wysiwyg \\(only used in admin\\), remark-frontmatter,\nremark-mdx-frontmatter. Move @types/jsdom to devDependencies.\n\nDrops 51 packages from the dependency tree.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\" && git push origin main 2>&1)",
      "Bash(git add package.json apps/web/package.json apps/admin/package.json apps/web/vercel.json apps/admin/vercel.json pnpm-lock.yaml && git commit -m \"$\\(cat <<'EOF'\nfix: let Vercel use its own pnpm 9 instead of forcing pnpm 10\n\nThe ERR_INVALID_THIS bug is in Vercel's Node.js environment, not pnpm\nitself. Vercel's default auto-detection uses pnpm 9.15.9 which works\nfine. Our custom installCommand was forcing pnpm 10 which triggers the\nbug.\n\n- Remove installCommand from both vercel.json files\n- Remove packageManager field from all package.json files\n- Keep lockfile v9 format \\(compatible with both pnpm 9 and 10\\)\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\" && git push origin main 2>&1)",
      "Bash(git add apps/web/vercel.json apps/admin/vercel.json && git commit -m \"$\\(cat <<'EOF'\nfix: add installCommand back as plain pnpm install\n\nWithout installCommand, Vercel defaults to yarn since there's no\npnpm-lock.yaml in the app subdirectory. Just specify pnpm install\nwithout corepack or version overrides — Vercel's built-in pnpm 9\nwill handle it.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\" && git push origin main 2>&1)",
      "Bash(git add pnpm-lock.yaml && git commit -m \"$\\(cat <<'EOF'\nchore: regenerate pnpm-lock.yaml from scratch\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\" && git push origin main 2>&1)",
      "Bash(git add .gitignore && git commit -m \"$\\(cat <<'EOF'\nfix: gitignore node_modules in all directories, not just root\n\nThe leading slash in /node_modules only matched the root. Change to\nnode_modules/ to match all subdirectories. Also remove all previously\ntracked node_modules from git.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\" && git push origin main 2>&1)",
      "Bash(git add vercel.json apps/web/vercel.json apps/admin/vercel.json && git commit -m \"$\\(cat <<'EOF'\nfix: move vercel.json to repo root so Vercel auto-detects pnpm 9\n\nVercel's auto-detection picks pnpm 9.15.9 from the lockfile at the\nrepo root — which works. But having vercel.json inside apps/web with\nan installCommand bypasses that detection and uses a broken pnpm.\n\nMove config to repo root \\(where pnpm-lock.yaml lives\\), remove\ninstallCommand entirely, and let Vercel handle package manager\ndetection.\n\nCo-Authored-By: Claude Opus 4.6 <noreply@anthropic.com>\nEOF\n\\)\" && git push origin main 2>&1)",
      "Bash(cd /Users/mkteagle/developer/doingutahdaily/apps/web && /Users/mkteagle/Library/pnpm/vercel env pull .env.production 2>&1)",
      "Bash(cd /Users/mkteagle/developer/doingutahdaily/apps/admin && /Users/mkteagle/Library/pnpm/vercel env pull .env.production 2>&1)",
      "Bash(cd /Users/mkteagle/developer/doingutahdaily/apps/web && /Users/mkteagle/Library/pnpm/vercel env pull .env.production --environment production 2>&1)",
      "Bash(/Users/mkteagle/Library/pnpm/vercel env:*)"
    ],
    "deny": [],
    "ask": []
  }
}
