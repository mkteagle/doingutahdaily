module.exports=[10287,a=>{"use strict";let b=(0,a.i(58699).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],10287)},67594,a=>{"use strict";let b=(0,a.i(58699).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["ExternalLink",()=>b],67594)},80561,a=>{"use strict";let b=(0,a.i(58699).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],80561)},31197,a=>{"use strict";var b=a.i(89930);function c({yearRange:a,onlyUpcoming:d=!1,maxEvents:e}={}){let[f,g]=(0,b.useState)([]),[h,i]=(0,b.useState)(!0),[j,k]=(0,b.useState)(null),l=a?.join(",")||"",m=(0,b.useCallback)(async()=>{try{i(!0);let a=new URLSearchParams;l&&a.set("yearRange",l),d&&a.set("onlyUpcoming","true"),e&&a.set("maxEvents",e.toString());let b=await fetch(`/api/events?${a.toString()}`);if(!b.ok)throw Error("Failed to fetch events");let c=await b.json();g(c.events),k(null)}catch(a){console.error("Error fetching events:",a),k(a instanceof Error?a.message:"Failed to fetch events")}finally{i(!1)}},[l,d,e]);return(0,b.useEffect)(()=>{m()},[m]),{events:f,loading:h,error:j}}a.s(["useCalendarEvents",()=>c])},97835,a=>{"use strict";var b=a.i(89477),c=a.i(89930),d=a.i(31197),e=a.i(73608),f=a.i(50464),g=a.i(39968);function h(a){return+(0,g.toDate)(a)<Date.now()}var i=a.i(10287),j=a.i(65148),k=a.i(80561),l=a.i(41516),m=a.i(58699);let n=(0,m.default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),o=(0,m.default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var p=a.i(67594),q=a.i(74192);let r=["Family Activities","Outdoor Adventures","Indoor Activities","Seasonal Events","Holiday Events","Food & Dining","Arts & Culture"];function s({event:a,past:d}){let[g,h]=(0,c.useState)(!1),i="–",l="–",m="",r="";try{let b=(0,f.parseISO)(a.start);i=(0,e.format)(b,"d"),l=(0,e.format)(b,"MMM"),m=(0,e.format)(b,"EEEE, MMMM d, yyyy"),r=a.isAllDay?"All day":(0,e.format)(b,"h:mm a")}catch{}let s=a.start?`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(a.title)}&dates=${a.start.replace(/[-:]/g,"").split(".")[0]}/${a.end?.replace(/[-:]/g,"").split(".")[0]}`:null;return(0,b.jsxs)("div",{className:(0,q.cn)("bg-card border border-border rounded-2xl overflow-hidden transition-all duration-200",d?"opacity-70":"hover:border-primary/30 hover:shadow-card"),children:[(0,b.jsxs)("div",{className:"flex gap-4 p-5",children:[(0,b.jsxs)("div",{className:(0,q.cn)("shrink-0 w-14 flex flex-col items-center justify-center rounded-xl py-2 text-center",d?"bg-muted text-muted-foreground":"bg-primary/10 text-primary"),children:[(0,b.jsx)("span",{className:"font-display text-xl leading-none",children:i}),(0,b.jsx)("span",{className:"text-[10px] font-semibold uppercase tracking-wider opacity-80",children:l})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,b.jsx)("h3",{className:"font-display text-sm leading-snug text-foreground line-clamp-2",children:a.title}),a.description&&(0,b.jsx)("button",{onClick:()=>h(a=>!a),className:"shrink-0 p-1 rounded-lg text-muted-foreground hover:text-foreground hover:bg-muted transition-colors",children:g?(0,b.jsx)(o,{size:14}):(0,b.jsx)(n,{size:14})})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-xs text-muted-foreground mb-2",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(k.Calendar,{size:11,className:"shrink-0"}),m,r&&` \xb7 ${r}`]}),a.location&&(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(j.MapPin,{size:11,className:"shrink-0"}),(0,b.jsx)("span",{className:"truncate max-w-[180px]",children:a.location})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[a.categories?.slice(0,2).map(a=>(0,b.jsx)("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-medium bg-accent/10 text-accent",children:a},a)),s&&(0,b.jsxs)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"ml-auto flex items-center gap-1 text-[11px] font-medium text-muted-foreground hover:text-primary transition-colors",children:["Add to calendar ",(0,b.jsx)(p.ExternalLink,{size:10})]})]})]})]}),g&&a.description&&(0,b.jsxs)("div",{className:"px-5 pb-5 border-t border-border",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground leading-relaxed font-serif pt-4 whitespace-pre-line line-clamp-6",children:a.description.replace(/<[^>]+>/g,"")}),a.link&&(0,b.jsxs)("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 mt-3 text-sm font-medium text-primary hover:underline",children:["More info ",(0,b.jsx)(p.ExternalLink,{size:12})]})]})]})}function t(){return(0,b.jsxs)("div",{className:"bg-card border border-border rounded-2xl p-5 flex gap-4",children:[(0,b.jsx)("div",{className:"w-14 h-14 rounded-xl bg-muted animate-pulse shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("div",{className:"h-3.5 bg-muted rounded animate-pulse w-3/4"}),(0,b.jsx)("div",{className:"h-3 bg-muted rounded animate-pulse w-1/2"}),(0,b.jsx)("div",{className:"h-3 bg-muted rounded animate-pulse w-1/3"})]})]})}function u(){let a=new Date().getFullYear(),{events:e,loading:g,error:j}=(0,d.useCalendarEvents)({yearRange:[a-1,a]}),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)([]),[u,v]=(0,c.useState)("upcoming"),{upcoming:w,past:x}=(0,c.useMemo)(()=>{let a=m.toLowerCase(),b=e.filter(b=>{let c=!a||b.title.toLowerCase().includes(a)||(b.description?.toLowerCase()||"").includes(a),d=0===o.length||o.some(a=>b.categories?.includes(a));return c&&d});return{upcoming:b.filter(a=>!h((0,f.parseISO)(a.start))),past:b.filter(a=>h((0,f.parseISO)(a.start)))}},[e,m,o]),y="upcoming"===u?w:x;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("section",{className:"relative overflow-hidden py-16 sm:py-20 bg-background border-b border-border",children:[(0,b.jsx)("div",{className:"absolute inset-0 dot-pattern opacity-30"}),(0,b.jsx)("div",{className:"absolute top-0 right-0 w-96 h-96 bg-primary/8 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),(0,b.jsxs)("div",{className:"relative max-w-7xl mx-auto px-5 sm:px-8",children:[(0,b.jsx)("p",{className:"text-xs font-semibold tracking-widest uppercase text-primary mb-3",children:"Discover"}),(0,b.jsx)("h1",{className:"font-display text-5xl sm:text-6xl lg:text-7xl text-foreground mb-4",children:"Utah Events"}),(0,b.jsx)("p",{className:"font-serif text-lg text-muted-foreground max-w-xl",children:"Family-friendly events, festivals, and activities happening across the Beehive State."})]})]}),(0,b.jsx)("div",{className:"sticky top-16 md:top-20 z-30 bg-background/95 backdrop-blur-md border-b border-border",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-5 sm:px-8 py-4",children:[(0,b.jsxs)("div",{className:"relative mb-4",children:[(0,b.jsx)(i.Search,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none"}),(0,b.jsx)("input",{type:"search",value:m,onChange:a=>n(a.target.value),placeholder:"Search events...",className:"w-full pl-10 pr-4 py-2.5 rounded-xl bg-muted border border-border text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus:border-primary/40 focus:bg-background transition-colors"}),m&&(0,b.jsx)("button",{onClick:()=>n(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:(0,b.jsx)(l.X,{size:14})})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[r.map(a=>(0,b.jsx)("button",{onClick:()=>{p(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},className:(0,q.cn)("px-3 py-1.5 rounded-full text-xs font-medium border transition-all duration-150",o.includes(a)?"bg-primary text-primary-foreground border-primary":"bg-background text-muted-foreground border-border hover:border-primary/40 hover:text-foreground"),children:a},a)),o.length>0&&(0,b.jsxs)("button",{onClick:()=>p([]),className:"px-3 py-1.5 rounded-full text-xs font-medium text-muted-foreground hover:text-foreground flex items-center gap-1 transition-colors",children:[(0,b.jsx)(l.X,{size:11})," Clear"]})]})]})}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-5 sm:px-8 py-8",children:[(0,b.jsx)("div",{className:"flex items-center gap-1 mb-6 p-1 bg-muted rounded-xl w-fit",children:["upcoming","past"].map(a=>(0,b.jsxs)("button",{onClick:()=>v(a),className:(0,q.cn)("px-5 py-2 rounded-lg text-sm font-medium transition-all duration-150 capitalize",u===a?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"),children:[a,(0,b.jsxs)("span",{className:"ml-2 text-xs opacity-60",children:["(","upcoming"===a?w.length:x.length,")"]})]},a))}),j&&(0,b.jsx)("div",{className:"p-6 rounded-2xl bg-destructive/10 border border-destructive/20 text-sm text-destructive mb-6",children:"Failed to load events. Please try again later."}),(0,b.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:g?Array.from({length:8}).map((a,c)=>(0,b.jsx)(t,{},c)):y.length>0?y.map(a=>(0,b.jsx)(s,{event:a,past:"past"===u},a.id)):(0,b.jsxs)("div",{className:"lg:col-span-2 py-20 text-center",children:[(0,b.jsx)(k.Calendar,{size:40,className:"mx-auto mb-4 text-muted-foreground/40"}),(0,b.jsx)("p",{className:"font-display text-xl text-foreground mb-2",children:"No events found"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Try adjusting your search or filters"})]})})]})]})}a.s(["default",()=>u],97835)}];

//# sourceMappingURL=_02b3189c._.js.map